{
  "name": "ahkv2-toolbox",
  "displayName": "AHKv2 Toolbox",
  "icon": "src/AHK_Code.png",
  "description": "Comprehensive toolbox for AutoHotkey v2 development with v1→v2 script conversion, function metadata exploration, and productivity tools.",
  "publisher": "TrueCrimeAudit",
  "version": "0.4.0",
  "engines": {
    "vscode": "^1.84.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onView:ahkv2Toolbox",
    "onCommand:ahk.extractFunctionMetadata",
    "onCommand:ahk.convertV1toV2",
    "onCommand:ahk.convertV1toV2.replace",
    "onCommand:ahk.convertV1toV2.diff",
    "onCommand:ahk.convertV1toV2.acceptDiff",
    "onCommand:ahk.convertV1toV2.batch",
    "onCommand:ahk.launchDebugReader",
    "onCommand:ahk.runTests",
    "onCommand:ahk.formatDocument",
    "onCommand:ahk.applyFormattingFix"
  ],
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ahkv2-toolbox",
          "title": "AHKv2 Toolbox",
          "icon": "src/AHK_Code.svg"
        }
      ]
    },
    "views": {
      "ahkv2-toolbox": [
        {
          "id": "ahkv2Toolbox",
          "name": "Toolbox",
          "type": "webview"
        },
        {
          "id": "codeMap",
          "name": "Code Map",
          "icon": "$(symbol-structure)",
          "contextualTitle": "AHK Code Map"
        }
      ]
    },
    "commands": [
      {
        "command": "ahkv2Toolbox.open",
        "title": "Open AHKv2 Toolbox",
        "category": "AHKv2 Toolbox"
      },
      {
        "command": "codeMap.refresh",
        "title": "Refresh Code Map",
        "category": "AHKv2 Toolbox",
        "icon": "$(refresh)"
      },
      {
        "command": "codeMap.jumpToDefinition",
        "title": "Jump to Definition",
        "category": "AHKv2 Toolbox",
        "icon": "$(go-to-file)"
      },
      {
        "command": "ahk.convertV1toV2",
        "title": "AHK: Convert v1 to v2 - open in new tab",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.convertV1toV2.replace",
        "title": "AHK: Convert v1 to v2 - replace current file",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.convertV1toV2.diff",
        "title": "AHK: Convert v1 to v2 - show enhanced diff",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.convertV1toV2.acceptDiff",
        "title": "AHK: Accept v1 → v2 Diff",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.convertV1toV2.batch",
        "title": "AHK: Convert multiple files (batch)",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.launchDebugReader",
        "title": "AHK: Launch Debugger Window Reader",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.runTests",
        "title": "AHK: Run Tests",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.formatDocument",
        "title": "AHK: Format Document",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.applyFormattingFix",
        "title": "AHK: Apply Formatting Fix",
        "category": "AHK Converter"
      },
      {
        "command": "ahk.extractFunctionMetadata",
        "title": "AHK: Extract Function Metadata",
        "category": "AHK Converter"
      },
      {
        "command": "ahkv2Toolbox.installLSP",
        "title": "Install AutoHotkey v2 LSP Extension",
        "category": "AHKv2 Toolbox"
      },
      {
        "command": "ahk.updateHeader",
        "title": "Update Script Header",
        "category": "AHK Converter"
      },
      {
        "command": "codeMap.showAll",
        "title": "Show All Items",
        "category": "Code Map",
        "icon": "$(eye)"
      },
      {
        "command": "codeMap.showOnlyClasses",
        "title": "Show Only Classes",
        "category": "Code Map",
        "icon": "$(symbol-class)"
      },
      {
        "command": "codeMap.showOnlyFunctions",
        "title": "Show Only Functions",
        "category": "Code Map",
        "icon": "$(symbol-function)"
      },
      {
        "command": "codeMap.showOnlyVariables",
        "title": "Show Only Variables",
        "category": "Code Map",
        "icon": "$(symbol-variable)"
      },
      {
        "command": "codeMap.toggleClasses",
        "title": "Toggle Classes",
        "category": "Code Map"
      },
      {
        "command": "codeMap.toggleFunctions",
        "title": "Toggle Functions",
        "category": "Code Map"
      },
      {
        "command": "codeMap.toggleMethods",
        "title": "Toggle Methods",
        "category": "Code Map"
      },
      {
        "command": "codeMap.toggleVariables",
        "title": "Toggle Variables",
        "category": "Code Map"
      },
      {
        "command": "codeMap.scopeToItem",
        "title": "Scope to This Item",
        "category": "Code Map",
        "icon": "$(filter)"
      },
      {
        "command": "codeMap.clearScope",
        "title": "Clear Scope",
        "category": "Code Map",
        "icon": "$(clear-all)"
      },
      {
        "command": "codeMap.exportAsAsciiTree",
        "title": "Export as ASCII Tree",
        "category": "Code Map",
        "icon": "$(export)"
      }
    ],
    "menus": {
      "editor/context": [
        {
          "when": "resourceLangId == ahk",
          "command": "ahk.convertV1toV2",
          "group": "1_modification@1"
        },
        {
          "when": "resourceLangId == ahk",
          "command": "ahk.convertV1toV2.replace",
          "group": "1_modification@2"
        },
        {
          "when": "resourceLangId == ahk",
          "command": "ahk.convertV1toV2.diff",
          "group": "1_modification@3"
        }
      ],
      "explorer/context": [
        {
          "when": "resourceLangId == ahk",
          "command": "ahk.convertV1toV2.batch",
          "group": "1_modification@1"
        }
      ],
      "view/title": [
        {
          "command": "codeMap.refresh",
          "when": "view == codeMap",
          "group": "navigation@1"
        },
        {
          "command": "codeMap.clearScope",
          "when": "view == codeMap",
          "group": "navigation@2"
        },
        {
          "command": "codeMap.showAll",
          "when": "view == codeMap",
          "group": "navigation@3"
        },
        {
          "command": "codeMap.showOnlyClasses",
          "when": "view == codeMap",
          "group": "filters@1"
        },
        {
          "command": "codeMap.showOnlyFunctions",
          "when": "view == codeMap",
          "group": "filters@2"
        },
        {
          "command": "codeMap.showOnlyVariables",
          "when": "view == codeMap",
          "group": "filters@3"
        },
        {
          "command": "codeMap.exportAsAsciiTree",
          "when": "view == codeMap",
          "group": "export@1"
        }
      ],
      "view/item/context": [
        {
          "command": "codeMap.scopeToItem",
          "when": "view == codeMap && viewItem == class",
          "group": "scope@1"
        },
        {
          "command": "codeMap.scopeToItem",
          "when": "view == codeMap && viewItem == function",
          "group": "scope@1"
        },
        {
          "command": "codeMap.jumpToDefinition",
          "when": "view == codeMap && viewItem == function",
          "group": "navigation"
        },
        {
          "command": "codeMap.jumpToDefinition",
          "when": "view == codeMap && viewItem == class",
          "group": "navigation"
        },
        {
          "command": "codeMap.jumpToDefinition",
          "when": "view == codeMap && viewItem == variable",
          "group": "navigation"
        }
      ]
    },
    "configuration": {
      "title": "AHKv2 Toolbox",
      "properties": {
        "ahkConverter.autoHotkeyV2Path": {
          "type": "string",
          "default": "",
          "description": "Path to AutoHotkey v2 executable. If empty, uses AutoHotkey64.exe from PATH.",
          "scope": "window"
        },
        "ahkConverter.converterScriptPath": {
          "type": "string",
          "default": "${extensionPath}/vendor/v2converter.ahk",
          "description": "Path to v2converter.ahk.",
          "scope": "window"
        },
        "ahkConverter.strictWindowsOnly": {
          "type": "boolean",
          "default": true,
          "description": "If true, warn on non-Windows platforms.",
          "scope": "window"
        },
        "ahkConverter.defaultOutputNaming": {
          "type": "string",
          "enum": [
            "suffix",
            "directory",
            "prompt"
          ],
          "default": "suffix",
          "description": "How to name converted files in batch mode.",
          "enumDescriptions": [
            "Add '_v2' suffix to original filename",
            "Save to a separate 'v2' subdirectory",
            "Prompt for filename each time"
          ]
        },
        "ahkConverter.enableEnhancedDiff": {
          "type": "boolean",
          "default": true,
          "description": "Enable enhanced diff view with better highlighting and options.",
          "scope": "window"
        },
        "ahkConverter.showConversionStats": {
          "type": "boolean",
          "default": true,
          "description": "Show detailed conversion statistics in status bar.",
          "scope": "window"
        },
        "ahkConverter.autoSaveAfterConversion": {
          "type": "boolean",
          "default": false,
          "description": "Automatically save files after successful conversion.",
          "scope": "window"
        },
        "ahkConverter.validationLevel": {
          "type": "string",
          "enum": [
            "strict",
            "normal",
            "lenient"
          ],
          "default": "normal",
          "description": "Level of validation to perform on AHK files.",
          "enumDescriptions": [
            "Strict validation with detailed checks",
            "Normal validation with standard checks",
            "Lenient validation with minimal checks"
          ]
        },
        "ahkConverter.enableNotifications": {
          "type": "boolean",
          "default": true,
          "description": "Show enhanced notifications with actionable options.",
          "scope": "window"
        },
        "ahkConverter.batchOutputDirectory": {
          "type": "string",
          "default": "",
          "description": "Default output directory for batch conversions. If empty, prompts for directory.",
          "scope": "window"
        },
        "ahkConverter.diffViewOptions": {
          "type": "object",
          "default": {
            "showLineNumbers": true,
            "highlightChanges": true,
            "ignoreWhitespace": false,
            "contextLines": 3
          },
          "description": "Options for diff view display.",
          "properties": {
            "showLineNumbers": {
              "type": "boolean",
              "default": true,
              "description": "Show line numbers in diff view."
            },
            "highlightChanges": {
              "type": "boolean",
              "default": true,
              "description": "Highlight changes with color coding."
            },
            "ignoreWhitespace": {
              "type": "boolean",
              "default": false,
              "description": "Ignore whitespace changes in diff."
            },
            "contextLines": {
              "type": "number",
              "default": 3,
              "minimum": 0,
              "maximum": 10,
              "description": "Number of context lines to show around changes."
            }
          }
        }
      }
    },
    "keybindings": [
      {
        "command": "ahk.convertV1toV2",
        "key": "ctrl+shift+a",
        "mac": "cmd+shift+a",
        "when": "editorTextFocus && resourceLangId == ahk"
      },
      {
        "command": "ahk.convertV1toV2.diff",
        "key": "ctrl+shift+d",
        "mac": "cmd+shift+d",
        "when": "editorTextFocus && resourceLangId == ahk"
      }
    ],
    "colors": [
      {
        "id": "ahkv2Toolbox.codeMap.classColor",
        "description": "Color for class items in the Code Map",
        "defaults": {
          "dark": "#62c9b0",
          "light": "#62c9b0",
          "highContrast": "#62c9b0",
          "highContrastLight": "#62c9b0"
        }
      },
      {
        "id": "ahkv2Toolbox.codeMap.functionColor",
        "description": "Color for function items in the Code Map",
        "defaults": {
          "dark": "#ebd160",
          "light": "#ebd160",
          "highContrast": "#ebd160",
          "highContrastLight": "#ebd160"
        }
      }
    ]
  },
  "main": "./dist/extension.js",
  "scripts": {
    "prepare": "husky install",
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "dev": "npm run watch",
    "package": "vsce package",
    "publish": "vsce publish --skip-duplicate"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "^20.11.30",
    "@types/vscode": "^1.84.0",
    "husky": "^9.1.7",
    "mocha": "^11.7.4",
    "typescript": "^5.4.0",
    "vsce": "^2.15.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/TrueCrimeAudit/ahkv2-toolbox.git"
  },
  "extensionDependencies": [
    "thqby.vscode-autohotkey2-lsp"
  ],
  "extensionPack": [],
  "keywords": [
    "autohotkey",
    "ahk",
    "ahkv2",
    "converter",
    "v1-to-v2",
    "autohotkey2",
    "toolbox",
    "productivity"
  ]
}